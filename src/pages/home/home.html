<ion-header>
  <script>
    function onSignIn(googleUser) {
      // Useful data for your client-side scripts:
      var profile = googleUser.getBasicProfile();
      console.log("ID: " + profile.getId()); // Don't send this directly to your server!
      console.log('Full Name: ' + profile.getName());
      console.log('Given Name: ' + profile.getGivenName());
      console.log('Family Name: ' + profile.getFamilyName());
      console.log("Image URL: " + profile.getImageUrl());
      console.log("Email: " + profile.getEmail());

      // The ID token you need to pass to your backend:
      var id_token = googleUser.getAuthResponse().id_token;
      console.log("ID Token: " + id_token);
    };
  </script>
  <ion-navbar>
    <ion-title>VV Time Sheet</ion-title>
    <div *ngIf="sheetsrv.isAuthenticated()">
      <ion-buttons end>
        <button  class="g-signin2" data-onsuccess="onSignIn" data-theme="dark"></button>
      </ion-buttons>
    </div>
  </ion-navbar>
</ion-header>


<ion-content padding>

    <form [formGroup]="form" (ngSubmit)="onSave($event)">
      <ion-list>
        <ion-item>
          <ion-label>
            Sheet Id
          </ion-label>
          <ion-input type='text' formControlName="sheetId" [(ngModel)]="sheetId"></ion-input>
        </ion-item>
        <ion-item (click)="onNameClick($event)">
          <ion-label>
            Name
          </ion-label>
          <ion-select placeholder="Select Name"  formControlName="name" [(ngModel)]="name">
            <ion-option *ngFor="let n of names | async"  value="{{n}}">{{n}}</ion-option>
          </ion-select>
        </ion-item>
        <ion-item>
          <ion-label>
            Type of Workout
          </ion-label>
          <ion-select placeholder="Select Workout" formControlName="wotype" [(ngModel)]="wotype">
            <ion-option value="Running">Running</ion-option>
            <ion-option value="Cycling">Cycling</ion-option>
            <ion-option value="Swimming">Swimming</ion-option>
          </ion-select>
        </ion-item>
        <ion-item>
          <ion-label>
            Date of Workout
          </ion-label>
          <ion-input type="date" formControlName="date" [(ngModel)]="date" placeholder="Date in DD/MM/YYYY"></ion-input>
        </ion-item>
        <ion-item>
          <ion-label>
            Distance in (km)
          </ion-label>
          <ion-input type="number" formControlName="distance" [(ngModel)]="distance" placeholder="Distance"></ion-input>
        </ion-item>
        <ion-item>
          Login

        </ion-item>
        <ion-item>
          <button ion-button type="submit" [disabled]="!form.valid">Log</button>
        </ion-item>
      </ion-list>
    </form>
</ion-content>